# Настройка Netlify Functions для синхронизации пользователей

## Что было сделано:

1. ✅ Созданы Netlify Functions:
   - `netlify/functions/getUsers.js` - получение списка пользователей
   - `netlify/functions/saveUser.js` - сохранение/обновление пользователей

2. ✅ Обновлен JavaScript:
   - Все функции теперь работают с API вместо только localStorage
   - Добавлен fallback на localStorage при недоступности сервера
   - Автоматическая синхронизация между устройствами

3. ✅ Обновлен `netlify.toml`:
   - Добавлена настройка для функций

## Как это работает:

### На сервере (Netlify):
- Функции хранят данные в файле `users.json` в корне проекта
- При каждом деплое файл сохраняется
- Функции доступны по адресу: `/.netlify/functions/getUsers` и `/.netlify/functions/saveUser`

### На клиенте:
- При регистрации пользователь сохраняется на сервер
- Админка автоматически обновляется каждые 3 секунды
- Если сервер недоступен, используется localStorage как fallback

## Важные моменты:

⚠️ **Ограничение Netlify Functions:**
- Файл `users.json` обновляется только при деплое
- Для реального онлайн-хранилища лучше использовать базу данных (Supabase, MongoDB Atlas и т.д.)

⚠️ **Для продакшена рекомендуется:**
- Использовать внешнюю базу данных
- Или Netlify KV (платно)
- Или Supabase (бесплатно до определенного лимита)

## Тестирование:

1. Загрузите проект на Netlify
2. Зарегистрируйте пользователя
3. Откройте админку - пользователь должен появиться
4. Откройте сайт на другом устройстве - пользователи должны синхронизироваться

## Следующие шаги (опционально):

Если нужна более надежная синхронизация, можно:
1. Настроить Supabase (бесплатная база данных)
2. Использовать MongoDB Atlas (бесплатный tier)
3. Настроить Netlify KV (платно)

